===============
MasterWaveCalib
===============

Overview
========

This file describes the data model for the `MasterWaveCalib`_.

The images are written to disk as a multi-extension FITS file
prefixed by `MasterWaveCalib`_ in the Masters/ folder.
See :ref:`masters:Masters Naming` for the naming convention.

Inspecting
==========

At present, the only way to examine the quality of this
step is by viewing the PNG file generated by the code.
:doc:`qa` describes how to access them.

There is 1 PNG file generated per slit.  Here is an
example from the `shane_kast_red` spectrograph.

.. image:: figures/arc_1d_fit.png

What you hope to see in your QA is:

 - On the left, many of the blue arc lines marked with IDs
 - In the upper right, an RMS < 0.1 pixels
 - In the lower right, a random scatter about 0 residuals


Trouble Shooting
================

Wavelength solutions are amongst the most challenging
part of data reduction.  See :doc:`wave_calib` for
extensive details on how PypeIt performs wavelength
calibration and related issues.


Current WaveCalib Data Model
============================

Internally, the image is held in
:class:`pypeit.wavecalib.WaveCalib`
which is a :class:`pypeit.datamodel.DataContainer`.
The datamodel written to disk is:

.. include:: include/datamodel_wavecalib.rst


